import{u as G}from"./uV88l-Zo.js";import{m as I,u as R,A as U,r as j,B as A,n as q,o as t,c as s,a as e,s as c,t as d,d as E,F as u,p as v}from"./GJOK1xqK.js";import{_ as P}from"./DlAUqK2U.js";const W={class:"max-w-7xl mx-auto px-4 py-8"},$={class:"flex flex-col md:flex-row items-center md:items-start mb-8"},z={class:"flex-shrink-0 mb-6 md:mb-0 md:w-1/3"},J=["src"],K={class:"md:ml-8 flex-1"},O={class:"text-4xl font-extrabold text-gray-900 mb-4"},Q={key:0,class:"mb-4"},X={class:"text-xl font-semibold text-gray-700"},Y={class:"font-normal text-gray-500"},Z={key:1,class:"prose lg:prose-xl mb-6"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},te=["innerHTML"],se={class:"mb-8"},oe={key:0,class:"mt-4 text-lg text-gray-600"},ae=["innerHTML"],ne={key:0,class:"custom-ul"},le={class:"text-lg text-gray-800"},ie=["onClick"],re={key:1,class:"text-gray-500 mt-4"},ce=I({__name:"[id]",setup(de){const g=R(),C=U(),l=G(),m=j(!1),S=async()=>{await l.fetchMovieDetails(g.params.id),await l.fetchSessions(g.params.id)},T=(o,n,i)=>{C.push({path:"/booking",query:{movie_id:o,showdate:n.showdate||"",daytime:i||""}})},a=A(()=>l.movieDetails),x=A(()=>l.sessions),H=o=>({0:"Action",1:"Adventures",2:"Comedy",3:"Drama",4:"Horror",5:"Westerns"})[o]||"Unknown",N=()=>{m.value=!m.value},B=o=>new Date(o).toLocaleDateString("uk-UA",{year:"numeric",month:"long",day:"numeric"}),V=o=>o.split(";");return q(async()=>{try{await S()}catch(o){console.error("Failed to fetch data:",o)}}),(o,n)=>{var i,h,p,y,f,b,k,w,D,M;return t(),s("div",W,[e("div",$,[e("div",z,[(h=(i=a.value)==null?void 0:i.value)!=null&&h.image?(t(),s("img",{key:0,src:a.value.value.image,alt:"Movie Poster",class:"rounded-lg shadow-lg w-full h-auto object-cover"},null,8,J)):c("",!0)]),e("div",K,[e("h1",O,d(((y=(p=a.value)==null?void 0:p.value)==null?void 0:y.name)||"Loading..."),1),(f=a.value)!=null&&f.value?(t(),s("div",Q,[e("p",X,[n[0]||(n[0]=E(" Genre: ")),e("span",Y,d(H(a.value.value.genre)),1)])])):c("",!0),(b=a.value)!=null&&b.value?(t(),s("div",Z,[e("div",ee,[e("p",{innerHTML:((w=(k=a.value)==null?void 0:k.value)==null?void 0:w.description)||"Description is loading...",class:"text-lg text-gray-700"},null,8,te)])])):c("",!0),e("div",se,[e("button",{onClick:N,class:"px-4 py-2 bg-gray-800 text-white rounded-md shadow-sm hover:bg-gray-700 transition-colors w-fit text-left"}," Додаткова інформація "),m.value?(t(),s("div",oe,[e("p",{innerHTML:((M=(D=a.value)==null?void 0:D.value)==null?void 0:M.additional)||"No additional information available."},null,8,ae)])):c("",!0)])])]),e("div",null,[n[1]||(n[1]=e("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Sessions",-1)),x.value?(t(),s("ul",ne,[(t(!0),s(u,null,v(x.value.value,(F,L)=>(t(),s(u,{key:L},[(t(!0),s(u,null,v(F,r=>(t(),s("li",{key:r.showdate,class:"custom-li"},[e("div",le,[e("div",null,d(B(r.showdate)),1),e("div",null,[(t(!0),s(u,null,v(V(r.daytime),_=>(t(),s("span",{key:_,class:"inline-block rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2"},[e("button",{onClick:ue=>T(L,r,_),class:"text-blue-500 hover:underline"},d(_),9,ie)]))),128))])])]))),128))],64))),128))])):(t(),s("p",re,"No sessions available."))])])}}}),ge=P(ce,[["__scopeId","data-v-8958c26d"]]);export{ge as default};
